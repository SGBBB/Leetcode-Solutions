The way to traverse the whole tree is postorder.
The way to construct serial is preorder.
​
​
​
Dry run this test case you will realise why   we did serialization here
This example has only 2 duplicate subtrees
[1,2,3,4,null,2,4,null,null,4,null,2,null,null,null,4,6]